Signal-to-Noise Ratio
=====================

Methods for computing cumulative SNR for power spectrum and bispectrum measurements.

Methods
-------

.. py:method:: FullForecast.pk_SNR(term, pkln, verbose=True, sigma=None)

   Compute power spectrum SNR per redshift bin.

   :param str term: Contribution type (e.g., ``'NPP'``)
   :param list pkln: Multipoles (e.g., ``[0, 2]``)
   :param bool verbose: Show progress
   :param float sigma: FoG damping
   :return: Array of SNR per bin

.. py:method:: FullForecast.bk_SNR(term, bkln, verbose=True, sigma=None)

   Compute bispectrum SNR per redshift bin.

   :param str term: Contribution type
   :param list bkln: Multipoles (e.g., ``[0]``)
   :return: Array of SNR per bin

.. py:method:: FullForecast.combined_SNR(term, pkln, bkln, verbose=True, sigma=None)

   Compute combined Pk + Bk SNR.

   :param str term: Contribution type
   :param list pkln: Pk multipoles
   :param list bkln: Bk multipoles
   :return: Array of SNR per bin

Usage
-----

.. code-block:: python

    import numpy as np
    import cosmo_wap as cw
    from cosmo_wap.lib import utils
    from cosmo_wap.forecast import FullForecast

    cosmo = utils.get_cosmo(h=0.67, Omega_m=0.31)
    survey = cw.SurveyParams.Euclid(cosmo)
    cosmo_funcs = cw.ClassWAP(cosmo, survey)
    forecast = FullForecast(cosmo_funcs, kmax_func=0.15, N_bins=4)

    # Pk SNR
    snr_pk = forecast.pk_SNR("NPP", pkln=[0, 2])
    total_pk = np.sqrt(np.sum(np.abs(snr_pk)**2))

    # Bk SNR
    snr_bk = forecast.bk_SNR("NPP", bkln=[0])
    total_bk = np.sqrt(np.sum(np.abs(snr_bk)**2))

    # Combined
    snr_comb = forecast.combined_SNR("NPP", pkln=[0, 2], bkln=[0])
